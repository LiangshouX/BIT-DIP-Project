# 作业二：直方图均衡化

## 作业要求：
* 读入一幅灰度图像
* 进行直方图均衡化
* 显示结果

## 实现原理：
假设现在有一个图像A，其直方图分布$H_A(D)$，我们想利用一个单调非线性映射$f:R \rightarrow R$，将图像A变为图像B，即对图像A中**每个**像素点施加$f$变换 ，图像B的直方图分布为$H_B(D)$。整个过程可以按照Figure 5的图示来说明：图中右下方是A图像的灰度直方图分布(便于画图，这里画作连续分布)，图中右上方是单调非线性变换函数$f$，左上方式得到的图像B的直方图分布，其中有 $D_B=f(D_A)$  ，$D_B + \Delta D_B = f(D_A+\Delta D_A)$  。即可以理解  $f$的作用是将A图像里面像素点灰度为 $D_A$ 的全部变为 $D_B$ ，那么则有： $\int _0 ^{D_A + \Delta D_A}H_A(D)dD=\int_0^{D_B + \Delta D_B}H_B(D)dD$。

![img](https://pic4.zhimg.com/80/v2-f6e89ba884fdb32d3aae4f2d19a4688f_720w.webp)

上面公式可以理解为对应区间内像素点总数不变。为了实现直方图均衡化，特殊地有：  $\int _0 ^{D_A}H_A(D)dD=\int_0^{D_B}H_B(D)dD$。

因为目标是直方图均匀分布，那么理想的  ，  是 像素点个数，  是灰度级深度，通常取256。那么得到：


那么 ，  就可以求出来了，结果为：


离散形式为：